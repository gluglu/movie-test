import{m as v}from"./index-a8726147.js";import{g as p,r as u,l as I}from"./index.esm2017-de2ee40a.js";let r;var a=!1;async function L(){return new Promise((o,i)=>{if(r!=null&&!a)o(r);else{a=!1;const f=p(),m=u(f,"Folder1");let l=new Map,n=0;I(m).then(s=>{s.prefixes.forEach(t=>{console.log(t)}),s.items.forEach(t=>{console.log(t);const c={id:n,name:t.name,url:t.fullPath,playCount:0,deleteFlag:!1};l.set(n,c),n++}),r=l,o(r)}).catch(s=>{console.log("Error: ListAll",s),i(new Error("Get MovieList Error"))})}})}const M=v({id:"movieInfo",state:()=>({movieInfoList:new Map,isLoading:!0}),getters:{getById:e=>o=>e.movieInfoList.get(o),isMovieListEmpty:e=>(console.log("getter:isMovieListEmpty",e.movieInfoList.size),e.movieInfoList.size==0)},actions:{async prepareMovieInfoList(){const e=await L();return this.movieInfoList=e,this.isLoading=!1,new Promise((i,f)=>{i(!0)})},async reloadMovieInfoList(){return a=!0,await this.prepareMovieInfoList()}}});export{M as u};
